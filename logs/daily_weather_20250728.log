2025-07-28 11:00:06,123 - INFO - 🌤️  每日自动天气数据收集开始
2025-07-28 11:00:06,124 - INFO - ============================================================
2025-07-28 11:00:06,124 - INFO - ⏰ 执行时间: 2025-07-28 11:00:06
2025-07-28 11:00:06,124 - INFO - 🎯 目标: 自动收集昨天的天气数据并存入数据库
2025-07-28 11:00:06,124 - INFO - ============================================================
2025-07-28 11:00:06,124 - INFO - 🔍 检查系统状态...
2025-07-28 11:00:07,168 - INFO - ✅ MySQL连接正常
2025-07-28 11:00:07,468 - INFO - ✅ 网络连接正常
2025-07-28 11:00:07,468 - INFO - ✅ 系统状态检查完成
2025-07-28 11:00:07,469 - INFO - 
🔄 执行步骤1: 生成JWT Token...
2025-07-28 11:00:07,469 - INFO - 🔑 自动生成JWT Token...
2025-07-28 11:00:07,494 - INFO - ✅ JWT Token生成成功，有效期10小时
2025-07-28 11:00:07,494 - INFO - ✅ 步骤1完成 - JWT Token生成成功
2025-07-28 11:00:07,494 - INFO - 
🔄 执行步骤2: 获取昨天的天气数据...
2025-07-28 11:00:07,494 - INFO - 🌤️ 开始获取昨天的天气数据...
2025-07-28 11:00:07,494 - INFO - 正在获取 20250727 的天气数据...
2025-07-28 11:00:07,767 - INFO - ✅ 成功获取天气数据，共 24 条记录
2025-07-28 11:00:07,767 - INFO - ✅ 步骤2完成 - 天气数据获取成功
2025-07-28 11:00:07,767 - INFO - 
🔄 执行步骤3: 保存数据到数据库...
2025-07-28 11:00:07,768 - INFO - 💾 开始保存天气数据到数据库...
2025-07-28 11:00:07,794 - INFO - ✅ 数据库初始化完成
2025-07-28 11:00:07,810 - WARNING - ⚠️ 小时数据保存返回格式异常
2025-07-28 11:00:07,810 - INFO - ✅ 小时数据保存尝试完成
2025-07-28 11:00:07,826 - INFO - ✅ 每日汇总计算完成
2025-07-28 11:00:07,826 - INFO - ✅ 步骤3完成 - 数据保存成功
2025-07-28 11:00:07,826 - INFO - 
🔄 执行步骤4: 生成统计报告...
2025-07-28 11:00:07,826 - INFO - 📊 获取数据库统计信息...
2025-07-28 11:00:08,193 - INFO - 📈 数据库统计信息:
2025-07-28 11:00:08,193 - INFO -    小时数据: 72 条
2025-07-28 11:00:08,193 - INFO -    每日数据: 3 条
2025-07-28 11:00:08,193 - INFO -    最新小时数据: 2025-07-27 23:00:00
2025-07-28 11:00:08,194 - INFO -    最新每日数据: 2025-07-27
2025-07-28 11:00:08,194 - INFO - ✅ 步骤4完成 - 统计报告生成成功
2025-07-28 11:00:08,194 - INFO - 
============================================================
2025-07-28 11:00:08,194 - INFO - 🎉 每日自动执行完全成功！
2025-07-28 11:00:08,194 - INFO - 📊 执行结果:
2025-07-28 11:00:08,194 - INFO -    - JWT Token生成: ✅
2025-07-28 11:00:08,194 - INFO -    - 天气数据获取: ✅
2025-07-28 11:00:08,194 - INFO -    - 数据库保存: ✅
2025-07-28 11:00:08,194 - INFO -    - 统计报告: ✅
2025-07-28 11:00:08,194 - INFO - 📅 下次执行时间: 明天早上9:30
2025-07-28 11:00:08,194 - INFO - ============================================================
2025-07-28 11:00:08,194 - INFO - ✅ 每日自动执行完成，无需人工干预
2025-07-28 15:59:00,340 - INFO - 🔑 自动生成JWT Token...
2025-07-28 15:59:00,372 - INFO - ✅ JWT Token生成成功，有效期10小时
2025-07-28 15:59:38,259 - INFO - 🔑 自动生成JWT Token...
2025-07-28 15:59:38,267 - INFO - ✅ JWT Token生成成功，有效期10小时
2025-07-28 16:01:22,504 - INFO - 🔑 自动生成JWT Token...
2025-07-28 16:01:22,513 - INFO - ✅ JWT Token生成成功，有效期10小时
2025-07-28 18:05:25,207 - INFO - 🌤️  每日自动天气数据收集开始
2025-07-28 18:05:25,207 - INFO - ============================================================
2025-07-28 18:05:25,207 - INFO - ⏰ 执行时间: 2025-07-28 18:05:25
2025-07-28 18:05:25,207 - INFO - 🎯 目标: 自动收集昨天所有13个地区(济南市+12个区县)的天气数据并存入数据库
2025-07-28 18:05:25,207 - INFO - ============================================================
2025-07-28 18:05:25,207 - INFO - 🔍 检查系统状态...
2025-07-28 18:05:25,482 - INFO - ✅ MySQL连接正常
2025-07-28 18:05:25,894 - INFO - ✅ 网络连接正常
2025-07-28 18:05:25,894 - INFO - ✅ 系统状态检查完成
2025-07-28 18:05:25,895 - INFO - 
🔄 执行步骤1: 生成JWT Token...
2025-07-28 18:05:25,895 - INFO - 🔑 自动生成JWT Token...
2025-07-28 18:05:25,906 - INFO - ✅ JWT Token生成成功，有效期10小时
2025-07-28 18:05:25,906 - INFO - ✅ 步骤1完成 - JWT Token生成成功
2025-07-28 18:05:25,906 - INFO - 
🔄 执行步骤2: 获取昨天所有13个地区的天气数据...
2025-07-28 18:05:25,906 - INFO - 🌤️ 开始获取昨天所有13个地区的天气数据...
2025-07-28 18:05:25,906 - INFO - 正在获取 济南市(101120101) 20250727 的天气数据...
2025-07-28 18:05:26,261 - INFO - ✅ 济南市 成功获取 24 条记录
2025-07-28 18:05:26,261 - INFO - 正在获取 长清区(101120102) 20250727 的天气数据...
2025-07-28 18:05:26,582 - INFO - ✅ 长清区 成功获取 24 条记录
2025-07-28 18:05:26,582 - INFO - 正在获取 商河县(101120103) 20250727 的天气数据...
2025-07-28 18:05:26,911 - INFO - ✅ 商河县 成功获取 24 条记录
2025-07-28 18:05:26,911 - INFO - 正在获取 章丘区(101120104) 20250727 的天气数据...
2025-07-28 18:05:27,280 - INFO - ✅ 章丘区 成功获取 24 条记录
2025-07-28 18:05:27,280 - INFO - 正在获取 平阴县(101120105) 20250727 的天气数据...
2025-07-28 18:05:27,610 - INFO - ✅ 平阴县 成功获取 24 条记录
2025-07-28 18:05:27,610 - INFO - 正在获取 济阳区(101120106) 20250727 的天气数据...
2025-07-28 18:05:27,933 - INFO - ✅ 济阳区 成功获取 24 条记录
2025-07-28 18:05:27,934 - INFO - 正在获取 历下区(101120107) 20250727 的天气数据...
2025-07-28 18:05:28,338 - INFO - ✅ 历下区 成功获取 24 条记录
2025-07-28 18:05:28,338 - INFO - 正在获取 市中区(101120108) 20250727 的天气数据...
2025-07-28 18:05:28,706 - INFO - ✅ 市中区 成功获取 24 条记录
2025-07-28 18:05:28,706 - INFO - 正在获取 槐荫区(101120109) 20250727 的天气数据...
2025-07-28 18:05:29,113 - INFO - ✅ 槐荫区 成功获取 24 条记录
2025-07-28 18:05:29,113 - INFO - 正在获取 天桥区(101120110) 20250727 的天气数据...
2025-07-28 18:05:29,470 - INFO - ✅ 天桥区 成功获取 24 条记录
2025-07-28 18:05:29,470 - INFO - 正在获取 历城区(101120111) 20250727 的天气数据...
2025-07-28 18:05:29,807 - INFO - ✅ 历城区 成功获取 24 条记录
2025-07-28 18:05:29,807 - INFO - 正在获取 莱芜区(101121601) 20250727 的天气数据...
2025-07-28 18:05:30,192 - INFO - ✅ 莱芜区 成功获取 24 条记录
2025-07-28 18:05:30,193 - INFO - 正在获取 钢城区(101121603) 20250727 的天气数据...
2025-07-28 18:05:30,527 - INFO - ✅ 钢城区 成功获取 24 条记录
2025-07-28 18:05:30,528 - INFO - ✅ 总计成功获取 13/13 个地区的天气数据，共 312 条记录
2025-07-28 18:05:30,528 - INFO - ✅ 步骤2完成 - 天气数据获取成功
2025-07-28 18:05:30,529 - INFO - 
🔄 执行步骤3: 保存数据到数据库...
2025-07-28 18:05:30,529 - INFO - 💾 开始保存所有地区的天气数据到数据库...
2025-07-28 18:05:30,540 - INFO - ✅ 数据库初始化完成
2025-07-28 18:05:30,541 - INFO - 正在保存 济南市(101120101) 的 24 条记录...
2025-07-28 18:05:30,554 - WARNING - ⚠️ 济南市 数据保存返回格式异常
2025-07-28 18:05:30,554 - INFO - 正在保存 长清区(101120102) 的 24 条记录...
2025-07-28 18:05:30,568 - INFO - ✅ 长清区 保存完成: 新增0条，更新24条
2025-07-28 18:05:30,569 - INFO - 正在保存 商河县(101120103) 的 24 条记录...
2025-07-28 18:05:30,583 - INFO - ✅ 商河县 保存完成: 新增0条，更新24条
2025-07-28 18:05:30,583 - INFO - 正在保存 章丘区(101120104) 的 24 条记录...
2025-07-28 18:05:30,594 - INFO - ✅ 章丘区 保存完成: 新增0条，更新24条
2025-07-28 18:05:30,594 - INFO - 正在保存 平阴县(101120105) 的 24 条记录...
2025-07-28 18:05:30,602 - INFO - ✅ 平阴县 保存完成: 新增0条，更新24条
2025-07-28 18:05:30,602 - INFO - 正在保存 济阳区(101120106) 的 24 条记录...
2025-07-28 18:05:30,615 - INFO - ✅ 济阳区 保存完成: 新增0条，更新24条
2025-07-28 18:05:30,615 - INFO - 正在保存 历下区(101120107) 的 24 条记录...
2025-07-28 18:05:30,622 - INFO - ✅ 历下区 保存完成: 新增0条，更新24条
2025-07-28 18:05:30,622 - INFO - 正在保存 市中区(101120108) 的 24 条记录...
2025-07-28 18:05:30,628 - INFO - ✅ 市中区 保存完成: 新增0条，更新24条
2025-07-28 18:05:30,628 - INFO - 正在保存 槐荫区(101120109) 的 24 条记录...
2025-07-28 18:05:30,634 - INFO - ✅ 槐荫区 保存完成: 新增0条，更新24条
2025-07-28 18:05:30,634 - INFO - 正在保存 天桥区(101120110) 的 24 条记录...
2025-07-28 18:05:30,640 - INFO - ✅ 天桥区 保存完成: 新增0条，更新24条
2025-07-28 18:05:30,640 - INFO - 正在保存 历城区(101120111) 的 24 条记录...
2025-07-28 18:05:30,645 - INFO - ✅ 历城区 保存完成: 新增0条，更新24条
2025-07-28 18:05:30,645 - INFO - 正在保存 莱芜区(101121601) 的 24 条记录...
2025-07-28 18:05:30,652 - INFO - ✅ 莱芜区 保存完成: 新增0条，更新24条
2025-07-28 18:05:30,652 - INFO - 正在保存 钢城区(101121603) 的 24 条记录...
2025-07-28 18:05:30,657 - INFO - ✅ 钢城区 保存完成: 新增0条，更新24条
2025-07-28 18:05:30,657 - INFO - ✅ 所有地区小时数据保存完成: 总计新增0条，更新288条
2025-07-28 18:05:30,659 - INFO - ✅ 每日汇总计算完成
2025-07-28 18:05:30,659 - INFO - ✅ 步骤3完成 - 数据保存成功
2025-07-28 18:05:30,659 - INFO - 
🔄 执行步骤4: 生成统计报告...
2025-07-28 18:05:30,659 - INFO - 📊 获取数据库统计信息...
2025-07-28 18:05:30,671 - INFO - 📈 数据库统计信息:
2025-07-28 18:05:30,671 - ERROR - ❌ 获取统计信息失败: 'hourly_count'
2025-07-28 18:05:30,671 - WARNING - ⚠️ 步骤4失败 - 统计报告生成失败
2025-07-28 18:05:30,671 - INFO - 
============================================================
2025-07-28 18:05:30,671 - INFO - 🎉 每日自动执行完全成功！
2025-07-28 18:05:30,671 - INFO - 📊 执行结果:
2025-07-28 18:05:30,671 - INFO -    - JWT Token生成: ✅
2025-07-28 18:05:30,671 - INFO -    - 天气数据获取(13个地区): ✅
2025-07-28 18:05:30,671 - INFO -    - 数据库保存(13个地区): ✅
2025-07-28 18:05:30,671 - INFO -    - 统计报告: ✅
2025-07-28 18:05:30,671 - INFO - 📅 下次执行时间: 明天早上9:30
2025-07-28 18:05:30,671 - INFO - ============================================================
2025-07-28 18:05:30,671 - INFO - ✅ 每日自动执行完成，无需人工干预
