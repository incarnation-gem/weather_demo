2025-07-22 14:55:35,334 - INFO - 🌤️  每日自动天气数据收集开始
2025-07-22 14:55:35,334 - INFO - ============================================================
2025-07-22 14:55:35,334 - INFO - ⏰ 执行时间: 2025-07-22 14:55:35
2025-07-22 14:55:35,334 - INFO - 🎯 目标: 收集最新天气数据并存入数据库
2025-07-22 14:55:35,334 - INFO - ============================================================
2025-07-22 14:55:35,334 - INFO - 🔍 检查系统状态...
2025-07-22 14:55:35,664 - INFO - ✅ MySQL连接正常
2025-07-22 14:55:35,664 - INFO - ✅ 系统状态检查完成
2025-07-22 14:55:35,664 - INFO - 
🔄 执行步骤1: 生成JWT Token...
2025-07-22 14:55:35,664 - INFO - 开始执行: 生成JWT Token
2025-07-22 14:55:35,664 - INFO - 命令: python 生成JWT.py
2025-07-22 14:55:35,736 - INFO - ✅ 生成JWT Token 执行成功
2025-07-22 14:55:35,736 - INFO - 输出: JWT Token生成成功:
  Token: eyJhbGciOiJFZERTQSIsImtpZCI6IktCQjZCUU5ITTUiLCJ0eXAiOiJKV1QifQ.eyJpYXQiOjE3NTMxNjczMDUsImV4cCI6MTc1MzIwMzMzNSwic3ViIjoiNDZLV0pRUUFUQyJ9.UJZeOuNVXoCYqHhGw-9PaCxlgtg2kG2nF9b70dqDiWlJff0grg9k8u469ZN5x6jhZFYfFd9W5p3Ez1UYuwMlCg
  有效期: 10小时
  过期时间: 2025-07-23 00:55:35
2025-07-22 14:55:35,736 - INFO - ✅ 步骤1完成
2025-07-22 14:55:35,736 - INFO - 
🔄 执行步骤2: 收集最新天气数据...
2025-07-22 14:55:35,736 - INFO - 开始执行: 收集天气数据
2025-07-22 14:55:35,736 - INFO - 命令: python 生成数据.py
2025-07-22 14:55:38,237 - INFO - ✅ 收集天气数据 执行成功
2025-07-22 14:55:38,238 - INFO - 输出: 🌤️  天气数据收集脚本启动 (MySQL版本)
==================================================
✅ MySQL数据库表结构初始化完成
检查JWT Token状态...
JWT Token有效，剩余6小时5分钟
📅 准备获取以下日期的天气数据: ['20250721']
正在获取 20250721 的天气数据...
✅ 成功获取 20250721 的天气数据，共 24 条记录

💾 开始保存 24 条小时数据到MySQL...
✅ 小时数据保存完成: 新增0条，更新24条

📊 计算每日天气汇总...
✅ 每日天气汇总计算完成

📈 数据库统计信息:
   小时数据: 240 条
   每日数据: 10 条
   最新小时数据: 2025-07-21 23:00:00
   最新每日数据: 2025-07-21

📋 最近3天的每日天气汇总:
   2025-07-21: 22.0°C~29.0°C (平均24.9°C), 降水78.0mm, 风速9.3km/h, 湿度90.0%
   2025-07-20: 27.0°C~34.0°C (平均29.8°C), 降水2.0mm, 风速11.6km/h, 湿度67.0%
   2025-07-19: 25.0°C~36.0°C (平均30.9°C), 降水0.0mm, 风速10.1km/h, 湿度51.6%

⏰ 最近5条小时数据:
   2025-07-21 23:00:00: 24.0°C, 湿度94.0%, 降水0.0mm, 风速7.0km/h
   2025-07-21 22:00:00: 23.0°C, 湿度95.0%, 降水0.0mm, 风速10.0km/h
   2025-07-21 21:00:00: 23.0°C, 湿度95.0%, 降水0.0mm, 风速11.0km/h
   2025-07-21 20:00:00: 23.0°C, 湿度94.0%, 降水3.0mm, 风速9.0km/h
   2025-07-21 19:00:00: 23.0°C, 湿度94.0%, 降水0.0mm, 风速11.0km/h

✅ 脚本执行完成
2025-07-22 14:55:38,238 - INFO - ✅ 步骤2完成
2025-07-22 14:55:38,238 - INFO - 
🔄 执行步骤3: 生成统计报告...
2025-07-22 14:55:38,238 - INFO - 开始执行: 生成统计报告
2025-07-22 14:55:38,238 - INFO - 命令: python 数据库查询工具_SQLAlchemy版.py
2025-07-22 14:55:38,522 - INFO - ✅ 生成统计报告 执行成功
2025-07-22 14:55:38,522 - INFO - 输出: 🌤️  MySQL天气数据查询工具 (SQLAlchemy版)
============================================================
✅ 使用SQLAlchemy连接，无警告信息
============================================================
📊 数据库统计信息:
   小时数据: 240 条
   每日数据: 10 条
   数据时间范围: 2025-07-12 00:00:00 至 2025-07-21 23:00:00
   温度范围: 22.0°C ~ 36.0°C (平均29.1°C)
   总降水量: 81.0mm (平均0.34mm/小时)

📋 最近7天的每日天气汇总:
   2025-07-21: 22.0°C~29.0°C (平均24.9°C), 降水78.0mm, 风速9.3km/h, 湿度90.0%
   2025-07-20: 27.0°C~34.0°C (平均29.8°C), 降水2.0mm, 风速11.6km/h, 湿度67.0%
   2025-07-19: 25.0°C~36.0°C (平均30.9°C), 降水0.0mm, 风速10.1km/h, 湿度51.6%
   2025-07-18: 23.0°C~35.0°C (平均29.5°C), 降水0.0mm, 风速9.3km/h, 湿度54.0%
   2025-07-17: 22.0°C~33.0°C (平均28.1°C), 降水0.0mm, 风速8.0km/h, 湿度61.2%
   2025-07-16: 23.0°C~31.0°C (平均27.0°C), 降水0.0mm, 风速12.4km/h, 湿度73.0%
   2025-07-15: 28.0°C~32.0°C (平均29.5°C), 降水0.0mm, 风速16.0km/h, 湿度53.0%

⏰ 最近10条小时数据:
   2025-07-21 23:00:00: 24.0°C, 湿度94.0%, 降水0.0mm, 风速7.0km/h
   2025-07-21 22:00:00: 23.0°C, 湿度95.0%, 降水0.0mm, 风速10.0km/h
   2025-07-21 21:00:00: 23.0°C, 湿度95.0%, 降水0.0mm, 风速11.0km/h
   2025-07-21 20:00:00: 23.0°C, 湿度94.0%, 降水3.0mm, 风速9.0km/h
   2025-07-21 19:00:00: 23.0°C, 湿度94.0%, 降水0.0mm, 风速11.0km/h
   2025-07-21 18:00:00: 28.0°C, 湿度83.0%, 降水0.0mm, 风速10.0km/h
   2025-07-21 17:00:00: 28.0°C, 湿度79.0%, 降水0.0mm, 风速8.0km/h
   2025-07-21 16:00:00: 29.0°C, 湿度77.0%, 降水0.0mm, 风速11.0km/h
   2025-07-21 15:00:00: 29.0°C, 湿度76.0%, 降水0.0mm, 风速9.0km/h
   2025-07-21 14:00:00: 28.0°C, 湿度78.0%, 降水0.0mm, 风速13.0km/h

🔍 搜索示例 - 温度大于25°C的数据:
   2025-07-21 18:00:00: 28.0°C
   2025-07-21 17:00:00: 28.0°C
   2025-07-21 16:00:00: 29.0°C
   2025-07-21 15:00:00: 29.0°C
   2025-07-21 14:00:00: 28.0°C
   ... 还有 203 条记录

✅ 查询完成，完全无警告信息！
2025-07-22 14:55:38,522 - INFO - ✅ 步骤3完成
2025-07-22 14:55:38,522 - INFO - 
============================================================
2025-07-22 14:55:38,522 - INFO - 🎉 每日自动执行完全成功！
2025-07-22 14:55:38,522 - INFO - 📊 所有步骤执行完成:
2025-07-22 14:55:38,522 - INFO -    - JWT Token生成: ✅
2025-07-22 14:55:38,523 - INFO -    - 天气数据收集: ✅
2025-07-22 14:55:38,523 - INFO -    - 统计报告生成: ✅
2025-07-22 14:55:38,523 - INFO - ============================================================
2025-07-22 14:55:38,523 - INFO - ✅ 每日自动执行完成
2025-07-22 14:56:43,529 - INFO - 🌤️  每日自动天气数据收集开始
2025-07-22 14:56:43,530 - INFO - ============================================================
2025-07-22 14:56:43,530 - INFO - ⏰ 执行时间: 2025-07-22 14:56:43
2025-07-22 14:56:43,530 - INFO - 🎯 目标: 收集最新天气数据并存入数据库
2025-07-22 14:56:43,530 - INFO - ============================================================
2025-07-22 14:56:43,530 - INFO - 🔍 检查系统状态...
2025-07-22 14:56:43,705 - INFO - ✅ MySQL连接正常
2025-07-22 14:56:43,705 - INFO - ✅ 系统状态检查完成
2025-07-22 14:56:43,705 - INFO - 
🔄 执行步骤1: 生成JWT Token...
2025-07-22 14:56:43,705 - INFO - 开始执行: 生成JWT Token
2025-07-22 14:56:43,705 - INFO - 命令: python 生成JWT.py
2025-07-22 14:56:43,756 - INFO - ✅ 生成JWT Token 执行成功
2025-07-22 14:56:43,756 - INFO - 输出: JWT Token生成成功:
  Token: eyJhbGciOiJFZERTQSIsImtpZCI6IktCQjZCUU5ITTUiLCJ0eXAiOiJKV1QifQ.eyJpYXQiOjE3NTMxNjczNzMsImV4cCI6MTc1MzIwMzQwMywic3ViIjoiNDZLV0pRUUFUQyJ9.LEZPVtcCUG_ibEwHevfiuZ773bpjlFyHo0Lryl7GPxKEUkyxFjCwoipfDxMN-cx6zfnedG3VojNIZDeCIefNBw
  有效期: 10小时
  过期时间: 2025-07-23 00:56:43
2025-07-22 14:56:43,756 - INFO - ✅ 步骤1完成
2025-07-22 14:56:43,756 - INFO - 
🔄 执行步骤2: 收集最新天气数据...
2025-07-22 14:56:43,756 - INFO - 开始执行: 收集天气数据
2025-07-22 14:56:43,756 - INFO - 命令: python 生成数据.py
2025-07-22 14:56:46,083 - INFO - ✅ 收集天气数据 执行成功
2025-07-22 14:56:46,083 - INFO - 输出: 🌤️  天气数据收集脚本启动 (MySQL版本)
==================================================
✅ MySQL数据库表结构初始化完成
检查JWT Token状态...
JWT Token有效，剩余6小时4分钟
📅 准备获取以下日期的天气数据: ['20250721']
正在获取 20250721 的天气数据...
✅ 成功获取 20250721 的天气数据，共 24 条记录

💾 开始保存 24 条小时数据到MySQL...
✅ 小时数据保存完成: 新增0条，更新24条

📊 计算每日天气汇总...
✅ 每日天气汇总计算完成

📈 数据库统计信息:
   小时数据: 240 条
   每日数据: 10 条
   最新小时数据: 2025-07-21 23:00:00
   最新每日数据: 2025-07-21

📋 最近3天的每日天气汇总:
   2025-07-21: 22.0°C~29.0°C (平均24.9°C), 降水78.0mm, 风速9.3km/h, 湿度90.0%
   2025-07-20: 27.0°C~34.0°C (平均29.8°C), 降水2.0mm, 风速11.6km/h, 湿度67.0%
   2025-07-19: 25.0°C~36.0°C (平均30.9°C), 降水0.0mm, 风速10.1km/h, 湿度51.6%

⏰ 最近5条小时数据:
   2025-07-21 23:00:00: 24.0°C, 湿度94.0%, 降水0.0mm, 风速7.0km/h
   2025-07-21 22:00:00: 23.0°C, 湿度95.0%, 降水0.0mm, 风速10.0km/h
   2025-07-21 21:00:00: 23.0°C, 湿度95.0%, 降水0.0mm, 风速11.0km/h
   2025-07-21 20:00:00: 23.0°C, 湿度94.0%, 降水3.0mm, 风速9.0km/h
   2025-07-21 19:00:00: 23.0°C, 湿度94.0%, 降水0.0mm, 风速11.0km/h

✅ 脚本执行完成
2025-07-22 14:56:46,083 - INFO - ✅ 步骤2完成
2025-07-22 14:56:46,083 - INFO - 
🔄 执行步骤3: 生成统计报告...
2025-07-22 14:56:46,083 - INFO - 开始执行: 生成统计报告
2025-07-22 14:56:46,083 - INFO - 命令: python 数据库查询工具_SQLAlchemy版.py
2025-07-22 14:56:46,360 - INFO - ✅ 生成统计报告 执行成功
2025-07-22 14:56:46,360 - INFO - 输出: 🌤️  MySQL天气数据查询工具 (SQLAlchemy版)
============================================================
✅ 使用SQLAlchemy连接，无警告信息
============================================================
📊 数据库统计信息:
   小时数据: 240 条
   每日数据: 10 条
   数据时间范围: 2025-07-12 00:00:00 至 2025-07-21 23:00:00
   温度范围: 22.0°C ~ 36.0°C (平均29.1°C)
   总降水量: 81.0mm (平均0.34mm/小时)

📋 最近7天的每日天气汇总:
   2025-07-21: 22.0°C~29.0°C (平均24.9°C), 降水78.0mm, 风速9.3km/h, 湿度90.0%
   2025-07-20: 27.0°C~34.0°C (平均29.8°C), 降水2.0mm, 风速11.6km/h, 湿度67.0%
   2025-07-19: 25.0°C~36.0°C (平均30.9°C), 降水0.0mm, 风速10.1km/h, 湿度51.6%
   2025-07-18: 23.0°C~35.0°C (平均29.5°C), 降水0.0mm, 风速9.3km/h, 湿度54.0%
   2025-07-17: 22.0°C~33.0°C (平均28.1°C), 降水0.0mm, 风速8.0km/h, 湿度61.2%
   2025-07-16: 23.0°C~31.0°C (平均27.0°C), 降水0.0mm, 风速12.4km/h, 湿度73.0%
   2025-07-15: 28.0°C~32.0°C (平均29.5°C), 降水0.0mm, 风速16.0km/h, 湿度53.0%

⏰ 最近10条小时数据:
   2025-07-21 23:00:00: 24.0°C, 湿度94.0%, 降水0.0mm, 风速7.0km/h
   2025-07-21 22:00:00: 23.0°C, 湿度95.0%, 降水0.0mm, 风速10.0km/h
   2025-07-21 21:00:00: 23.0°C, 湿度95.0%, 降水0.0mm, 风速11.0km/h
   2025-07-21 20:00:00: 23.0°C, 湿度94.0%, 降水3.0mm, 风速9.0km/h
   2025-07-21 19:00:00: 23.0°C, 湿度94.0%, 降水0.0mm, 风速11.0km/h
   2025-07-21 18:00:00: 28.0°C, 湿度83.0%, 降水0.0mm, 风速10.0km/h
   2025-07-21 17:00:00: 28.0°C, 湿度79.0%, 降水0.0mm, 风速8.0km/h
   2025-07-21 16:00:00: 29.0°C, 湿度77.0%, 降水0.0mm, 风速11.0km/h
   2025-07-21 15:00:00: 29.0°C, 湿度76.0%, 降水0.0mm, 风速9.0km/h
   2025-07-21 14:00:00: 28.0°C, 湿度78.0%, 降水0.0mm, 风速13.0km/h

🔍 搜索示例 - 温度大于25°C的数据:
   2025-07-21 18:00:00: 28.0°C
   2025-07-21 17:00:00: 28.0°C
   2025-07-21 16:00:00: 29.0°C
   2025-07-21 15:00:00: 29.0°C
   2025-07-21 14:00:00: 28.0°C
   ... 还有 203 条记录

✅ 查询完成，完全无警告信息！
2025-07-22 14:56:46,360 - INFO - ✅ 步骤3完成
2025-07-22 14:56:46,360 - INFO - 
============================================================
2025-07-22 14:56:46,360 - INFO - 🎉 每日自动执行完全成功！
2025-07-22 14:56:46,360 - INFO - 📊 所有步骤执行完成:
2025-07-22 14:56:46,360 - INFO -    - JWT Token生成: ✅
2025-07-22 14:56:46,360 - INFO -    - 天气数据收集: ✅
2025-07-22 14:56:46,360 - INFO -    - 统计报告生成: ✅
2025-07-22 14:56:46,360 - INFO - ============================================================
2025-07-22 14:56:46,361 - INFO - ✅ 每日自动执行完成
2025-07-22 15:01:50,563 - INFO - 🌤️  每日自动天气数据收集开始
2025-07-22 15:01:50,563 - INFO - ============================================================
2025-07-22 15:01:50,563 - INFO - ⏰ 执行时间: 2025-07-22 15:01:50
2025-07-22 15:01:50,563 - INFO - 🎯 目标: 自动收集当天实时天气数据并存入数据库
2025-07-22 15:01:50,563 - INFO - ============================================================
2025-07-22 15:01:50,563 - INFO - 🔍 检查系统状态...
2025-07-22 15:01:50,874 - INFO - ✅ MySQL连接正常
2025-07-22 15:01:51,235 - INFO - ✅ 网络连接正常
2025-07-22 15:01:51,235 - INFO - ✅ 系统状态检查完成
2025-07-22 15:01:51,236 - INFO - 
🔄 执行步骤1: 生成JWT Token...
2025-07-22 15:01:51,236 - INFO - 🔑 自动生成JWT Token...
2025-07-22 15:01:51,250 - INFO - ✅ JWT Token生成成功，有效期10小时
2025-07-22 15:01:51,250 - INFO - ✅ 步骤1完成 - JWT Token生成成功
2025-07-22 15:01:51,250 - INFO - 
🔄 执行步骤2: 获取今天的实时天气数据...
2025-07-22 15:01:51,250 - INFO - 🌤️ 开始获取今天的实时天气数据...
2025-07-22 15:01:51,859 - ERROR - ❌ 请求失败: 403 Client Error: Forbidden for url: https://api.qweather.com/v7/weather/24h?location=101120101
2025-07-22 15:01:51,860 - ERROR - ❌ 步骤2失败 - 天气数据获取失败，终止执行
2025-07-22 15:02:49,000 - INFO - 🌤️  每日自动天气数据收集开始
2025-07-22 15:02:49,000 - INFO - ============================================================
2025-07-22 15:02:49,000 - INFO - ⏰ 执行时间: 2025-07-22 15:02:49
2025-07-22 15:02:49,000 - INFO - 🎯 目标: 自动收集昨天的天气数据并存入数据库
2025-07-22 15:02:49,000 - INFO - ============================================================
2025-07-22 15:02:49,000 - INFO - 🔍 检查系统状态...
2025-07-22 15:02:49,254 - INFO - ✅ MySQL连接正常
2025-07-22 15:02:49,536 - INFO - ✅ 网络连接正常
2025-07-22 15:02:49,536 - INFO - ✅ 系统状态检查完成
2025-07-22 15:02:49,536 - INFO - 
🔄 执行步骤1: 生成JWT Token...
2025-07-22 15:02:49,536 - INFO - 🔑 自动生成JWT Token...
2025-07-22 15:02:49,547 - INFO - ✅ JWT Token生成成功，有效期10小时
2025-07-22 15:02:49,547 - INFO - ✅ 步骤1完成 - JWT Token生成成功
2025-07-22 15:02:49,547 - INFO - 
🔄 执行步骤2: 获取昨天的天气数据...
2025-07-22 15:02:49,547 - INFO - 🌤️ 开始获取昨天的天气数据...
2025-07-22 15:02:49,547 - INFO - 正在获取 20250721 的天气数据...
2025-07-22 15:02:50,054 - ERROR - ❌ 请求失败: 403 Client Error: Forbidden for url: https://api.qweather.com/v7/historical/weather?location=101120101&date=20250721
2025-07-22 15:02:50,055 - ERROR - ❌ 步骤2失败 - 天气数据获取失败，终止执行
2025-07-22 15:03:19,393 - INFO - 🌤️  每日自动天气数据收集开始
2025-07-22 15:03:19,393 - INFO - ============================================================
2025-07-22 15:03:19,393 - INFO - ⏰ 执行时间: 2025-07-22 15:03:19
2025-07-22 15:03:19,393 - INFO - 🎯 目标: 自动收集昨天的天气数据并存入数据库
2025-07-22 15:03:19,393 - INFO - ============================================================
2025-07-22 15:03:19,393 - INFO - 🔍 检查系统状态...
2025-07-22 15:03:19,587 - INFO - ✅ MySQL连接正常
2025-07-22 15:03:19,806 - INFO - ✅ 网络连接正常
2025-07-22 15:03:19,806 - INFO - ✅ 系统状态检查完成
2025-07-22 15:03:19,806 - INFO - 
🔄 执行步骤1: 生成JWT Token...
2025-07-22 15:03:19,806 - INFO - 🔑 自动生成JWT Token...
2025-07-22 15:03:19,814 - INFO - ✅ JWT Token生成成功，有效期10小时
2025-07-22 15:03:19,814 - INFO - ✅ 步骤1完成 - JWT Token生成成功
2025-07-22 15:03:19,814 - INFO - 
🔄 执行步骤2: 获取昨天的天气数据...
2025-07-22 15:03:19,814 - INFO - 🌤️ 开始获取昨天的天气数据...
2025-07-22 15:03:19,814 - INFO - 正在获取 20250721 的天气数据...
2025-07-22 15:03:20,699 - INFO - ✅ 成功获取天气数据，共 24 条记录
2025-07-22 15:03:20,700 - INFO - ✅ 步骤2完成 - 天气数据获取成功
2025-07-22 15:03:20,700 - INFO - 
🔄 执行步骤3: 保存数据到数据库...
2025-07-22 15:03:20,700 - INFO - 💾 开始保存天气数据到数据库...
2025-07-22 15:03:20,706 - INFO - ✅ 数据库初始化完成
2025-07-22 15:03:20,708 - ERROR - ❌ 数据库操作失败: cannot unpack non-iterable NoneType object
2025-07-22 15:03:20,708 - ERROR - ❌ 步骤3失败 - 数据保存失败
2025-07-22 15:04:53,793 - INFO - 🌤️  每日自动天气数据收集开始
2025-07-22 15:04:53,793 - INFO - ============================================================
2025-07-22 15:04:53,793 - INFO - ⏰ 执行时间: 2025-07-22 15:04:53
2025-07-22 15:04:53,793 - INFO - 🎯 目标: 自动收集昨天的天气数据并存入数据库
2025-07-22 15:04:53,793 - INFO - ============================================================
2025-07-22 15:04:53,793 - INFO - 🔍 检查系统状态...
2025-07-22 15:04:54,082 - INFO - ✅ MySQL连接正常
2025-07-22 15:04:54,641 - INFO - ✅ 网络连接正常
2025-07-22 15:04:54,641 - INFO - ✅ 系统状态检查完成
2025-07-22 15:04:54,642 - INFO - 
🔄 执行步骤1: 生成JWT Token...
2025-07-22 15:04:54,642 - INFO - 🔑 自动生成JWT Token...
2025-07-22 15:04:54,651 - INFO - ✅ JWT Token生成成功，有效期10小时
2025-07-22 15:04:54,651 - INFO - ✅ 步骤1完成 - JWT Token生成成功
2025-07-22 15:04:54,651 - INFO - 
🔄 执行步骤2: 获取昨天的天气数据...
2025-07-22 15:04:54,651 - INFO - 🌤️ 开始获取昨天的天气数据...
2025-07-22 15:04:54,651 - INFO - 正在获取 20250721 的天气数据...
2025-07-22 15:04:55,519 - INFO - ✅ 成功获取天气数据，共 24 条记录
2025-07-22 15:04:55,519 - INFO - ✅ 步骤2完成 - 天气数据获取成功
2025-07-22 15:04:55,519 - INFO - 
🔄 执行步骤3: 保存数据到数据库...
2025-07-22 15:04:55,519 - INFO - 💾 开始保存天气数据到数据库...
2025-07-22 15:04:55,525 - INFO - ✅ 数据库初始化完成
2025-07-22 15:04:55,527 - WARNING - ⚠️ 小时数据保存返回格式异常
2025-07-22 15:04:55,527 - INFO - ✅ 小时数据保存尝试完成
2025-07-22 15:04:55,532 - INFO - ✅ 每日汇总计算完成
2025-07-22 15:04:55,532 - INFO - ✅ 步骤3完成 - 数据保存成功
2025-07-22 15:04:55,532 - INFO - 
🔄 执行步骤4: 生成统计报告...
2025-07-22 15:04:55,533 - INFO - 📊 获取数据库统计信息...
2025-07-22 15:04:55,633 - INFO - 📈 数据库统计信息:
2025-07-22 15:04:55,633 - INFO -    小时数据: 240 条
2025-07-22 15:04:55,633 - INFO -    每日数据: 10 条
2025-07-22 15:04:55,633 - INFO -    最新小时数据: 2025-07-21 23:00:00
2025-07-22 15:04:55,633 - INFO -    最新每日数据: 2025-07-21
2025-07-22 15:04:55,633 - INFO - ✅ 步骤4完成 - 统计报告生成成功
2025-07-22 15:04:55,633 - INFO - 
============================================================
2025-07-22 15:04:55,633 - INFO - 🎉 每日自动执行完全成功！
2025-07-22 15:04:55,633 - INFO - 📊 执行结果:
2025-07-22 15:04:55,633 - INFO -    - JWT Token生成: ✅
2025-07-22 15:04:55,633 - INFO -    - 天气数据获取: ✅
2025-07-22 15:04:55,633 - INFO -    - 数据库保存: ✅
2025-07-22 15:04:55,633 - INFO -    - 统计报告: ✅
2025-07-22 15:04:55,633 - INFO - 📅 下次执行时间: 明天早上9:30
2025-07-22 15:04:55,633 - INFO - ============================================================
2025-07-22 15:04:55,633 - INFO - ✅ 每日自动执行完成，无需人工干预
2025-07-22 15:12:47,798 - INFO - 🌤️  每日自动天气数据收集开始
2025-07-22 15:12:47,798 - INFO - ============================================================
2025-07-22 15:12:47,798 - INFO - ⏰ 执行时间: 2025-07-22 15:12:47
2025-07-22 15:12:47,798 - INFO - 🎯 目标: 自动收集昨天的天气数据并存入数据库
2025-07-22 15:12:47,798 - INFO - ============================================================
2025-07-22 15:12:47,798 - INFO - 🔍 检查系统状态...
2025-07-22 15:12:48,085 - INFO - ✅ MySQL连接正常
2025-07-22 15:12:48,348 - INFO - ✅ 网络连接正常
2025-07-22 15:12:48,348 - INFO - ✅ 系统状态检查完成
2025-07-22 15:12:48,348 - INFO - 
🔄 执行步骤1: 生成JWT Token...
2025-07-22 15:12:48,348 - INFO - 🔑 自动生成JWT Token...
2025-07-22 15:12:48,362 - INFO - ✅ JWT Token生成成功，有效期10小时
2025-07-22 15:12:48,363 - INFO - ✅ 步骤1完成 - JWT Token生成成功
2025-07-22 15:12:48,363 - INFO - 
🔄 执行步骤2: 获取昨天的天气数据...
2025-07-22 15:12:48,363 - INFO - 🌤️ 开始获取昨天的天气数据...
2025-07-22 15:12:48,363 - INFO - 正在获取 20250721 的天气数据...
2025-07-22 15:12:49,250 - INFO - ✅ 成功获取天气数据，共 24 条记录
2025-07-22 15:12:49,251 - INFO - ✅ 步骤2完成 - 天气数据获取成功
2025-07-22 15:12:49,251 - INFO - 
🔄 执行步骤3: 保存数据到数据库...
2025-07-22 15:12:49,251 - INFO - 💾 开始保存天气数据到数据库...
2025-07-22 15:12:49,257 - INFO - ✅ 数据库初始化完成
2025-07-22 15:12:49,258 - WARNING - ⚠️ 小时数据保存返回格式异常
2025-07-22 15:12:49,259 - INFO - ✅ 小时数据保存尝试完成
2025-07-22 15:12:49,263 - INFO - ✅ 每日汇总计算完成
2025-07-22 15:12:49,263 - INFO - ✅ 步骤3完成 - 数据保存成功
2025-07-22 15:12:49,263 - INFO - 
🔄 执行步骤4: 生成统计报告...
2025-07-22 15:12:49,263 - INFO - 📊 获取数据库统计信息...
2025-07-22 15:12:49,369 - INFO - 📈 数据库统计信息:
2025-07-22 15:12:49,369 - INFO -    小时数据: 240 条
2025-07-22 15:12:49,369 - INFO -    每日数据: 10 条
2025-07-22 15:12:49,369 - INFO -    最新小时数据: 2025-07-21 23:00:00
2025-07-22 15:12:49,369 - INFO -    最新每日数据: 2025-07-21
2025-07-22 15:12:49,369 - INFO - ✅ 步骤4完成 - 统计报告生成成功
2025-07-22 15:12:49,369 - INFO - 
============================================================
2025-07-22 15:12:49,369 - INFO - 🎉 每日自动执行完全成功！
2025-07-22 15:12:49,369 - INFO - 📊 执行结果:
2025-07-22 15:12:49,369 - INFO -    - JWT Token生成: ✅
2025-07-22 15:12:49,369 - INFO -    - 天气数据获取: ✅
2025-07-22 15:12:49,369 - INFO -    - 数据库保存: ✅
2025-07-22 15:12:49,369 - INFO -    - 统计报告: ✅
2025-07-22 15:12:49,369 - INFO - 📅 下次执行时间: 明天早上9:30
2025-07-22 15:12:49,369 - INFO - ============================================================
2025-07-22 15:12:49,369 - INFO - ✅ 每日自动执行完成，无需人工干预
2025-07-22 15:13:14,741 - INFO - 🌤️  每日自动天气数据收集开始
2025-07-22 15:13:14,741 - INFO - ============================================================
2025-07-22 15:13:14,741 - INFO - ⏰ 执行时间: 2025-07-22 15:13:14
2025-07-22 15:13:14,741 - INFO - 🎯 目标: 自动收集昨天的天气数据并存入数据库
2025-07-22 15:13:14,741 - INFO - ============================================================
2025-07-22 15:13:14,741 - INFO - 🔍 检查系统状态...
2025-07-22 15:13:15,000 - INFO - ✅ MySQL连接正常
2025-07-22 15:13:15,266 - INFO - ✅ 网络连接正常
2025-07-22 15:13:15,266 - INFO - ✅ 系统状态检查完成
2025-07-22 15:13:15,266 - INFO - 
🔄 执行步骤1: 生成JWT Token...
2025-07-22 15:13:15,266 - INFO - 🔑 自动生成JWT Token...
2025-07-22 15:13:15,279 - INFO - ✅ JWT Token生成成功，有效期10小时
2025-07-22 15:13:15,280 - INFO - ✅ 步骤1完成 - JWT Token生成成功
2025-07-22 15:13:15,280 - INFO - 
🔄 执行步骤2: 获取昨天的天气数据...
2025-07-22 15:13:15,280 - INFO - 🌤️ 开始获取昨天的天气数据...
2025-07-22 15:13:15,280 - INFO - 正在获取 20250721 的天气数据...
2025-07-22 15:13:16,121 - INFO - ✅ 成功获取天气数据，共 24 条记录
2025-07-22 15:13:16,121 - INFO - ✅ 步骤2完成 - 天气数据获取成功
2025-07-22 15:13:16,122 - INFO - 
🔄 执行步骤3: 保存数据到数据库...
2025-07-22 15:13:16,122 - INFO - 💾 开始保存天气数据到数据库...
2025-07-22 15:13:16,125 - INFO - ✅ 数据库初始化完成
2025-07-22 15:13:16,127 - WARNING - ⚠️ 小时数据保存返回格式异常
2025-07-22 15:13:16,127 - INFO - ✅ 小时数据保存尝试完成
2025-07-22 15:13:16,132 - INFO - ✅ 每日汇总计算完成
2025-07-22 15:13:16,133 - INFO - ✅ 步骤3完成 - 数据保存成功
2025-07-22 15:13:16,133 - INFO - 
🔄 执行步骤4: 生成统计报告...
2025-07-22 15:13:16,133 - INFO - 📊 获取数据库统计信息...
2025-07-22 15:13:16,232 - INFO - 📈 数据库统计信息:
2025-07-22 15:13:16,232 - INFO -    小时数据: 240 条
2025-07-22 15:13:16,232 - INFO -    每日数据: 10 条
2025-07-22 15:13:16,232 - INFO -    最新小时数据: 2025-07-21 23:00:00
2025-07-22 15:13:16,232 - INFO -    最新每日数据: 2025-07-21
2025-07-22 15:13:16,232 - INFO - ✅ 步骤4完成 - 统计报告生成成功
2025-07-22 15:13:16,232 - INFO - 
============================================================
2025-07-22 15:13:16,232 - INFO - 🎉 每日自动执行完全成功！
2025-07-22 15:13:16,232 - INFO - 📊 执行结果:
2025-07-22 15:13:16,232 - INFO -    - JWT Token生成: ✅
2025-07-22 15:13:16,232 - INFO -    - 天气数据获取: ✅
2025-07-22 15:13:16,232 - INFO -    - 数据库保存: ✅
2025-07-22 15:13:16,232 - INFO -    - 统计报告: ✅
2025-07-22 15:13:16,232 - INFO - 📅 下次执行时间: 明天早上9:30
2025-07-22 15:13:16,232 - INFO - ============================================================
2025-07-22 15:13:16,232 - INFO - ✅ 每日自动执行完成，无需人工干预
2025-07-22 15:26:14,755 - INFO - 🌤️  每日自动天气数据收集开始
2025-07-22 15:26:14,756 - INFO - ============================================================
2025-07-22 15:26:14,756 - INFO - ⏰ 执行时间: 2025-07-22 15:26:14
2025-07-22 15:26:14,756 - INFO - 🎯 目标: 自动收集昨天的天气数据并存入数据库
2025-07-22 15:26:14,756 - INFO - ============================================================
2025-07-22 15:26:14,756 - INFO - 🔍 检查系统状态...
2025-07-22 15:26:15,019 - INFO - ✅ MySQL连接正常
2025-07-22 15:26:15,605 - INFO - ✅ 网络连接正常
2025-07-22 15:26:15,605 - INFO - ✅ 系统状态检查完成
2025-07-22 15:26:15,605 - INFO - 
🔄 执行步骤1: 生成JWT Token...
2025-07-22 15:26:15,605 - INFO - 🔑 自动生成JWT Token...
2025-07-22 15:26:15,615 - INFO - ✅ JWT Token生成成功，有效期10小时
2025-07-22 15:26:15,615 - INFO - ✅ 步骤1完成 - JWT Token生成成功
2025-07-22 15:26:15,615 - INFO - 
🔄 执行步骤2: 获取昨天的天气数据...
2025-07-22 15:26:15,615 - INFO - 🌤️ 开始获取昨天的天气数据...
2025-07-22 15:26:15,615 - INFO - 正在获取 20250721 的天气数据...
2025-07-22 15:26:17,477 - INFO - ✅ 成功获取天气数据，共 24 条记录
2025-07-22 15:26:17,477 - INFO - ✅ 步骤2完成 - 天气数据获取成功
2025-07-22 15:26:17,477 - INFO - 
🔄 执行步骤3: 保存数据到数据库...
2025-07-22 15:26:17,478 - INFO - 💾 开始保存天气数据到数据库...
2025-07-22 15:26:17,484 - INFO - ✅ 数据库初始化完成
2025-07-22 15:26:17,486 - WARNING - ⚠️ 小时数据保存返回格式异常
2025-07-22 15:26:17,487 - INFO - ✅ 小时数据保存尝试完成
2025-07-22 15:26:17,491 - INFO - ✅ 每日汇总计算完成
2025-07-22 15:26:17,491 - INFO - ✅ 步骤3完成 - 数据保存成功
2025-07-22 15:26:17,491 - INFO - 
🔄 执行步骤4: 生成统计报告...
2025-07-22 15:26:17,491 - INFO - 📊 获取数据库统计信息...
2025-07-22 15:26:17,595 - INFO - 📈 数据库统计信息:
2025-07-22 15:26:17,595 - INFO -    小时数据: 240 条
2025-07-22 15:26:17,595 - INFO -    每日数据: 10 条
2025-07-22 15:26:17,595 - INFO -    最新小时数据: 2025-07-21 23:00:00
2025-07-22 15:26:17,595 - INFO -    最新每日数据: 2025-07-21
2025-07-22 15:26:17,595 - INFO - ✅ 步骤4完成 - 统计报告生成成功
2025-07-22 15:26:17,595 - INFO - 
============================================================
2025-07-22 15:26:17,595 - INFO - 🎉 每日自动执行完全成功！
2025-07-22 15:26:17,595 - INFO - 📊 执行结果:
2025-07-22 15:26:17,595 - INFO -    - JWT Token生成: ✅
2025-07-22 15:26:17,595 - INFO -    - 天气数据获取: ✅
2025-07-22 15:26:17,595 - INFO -    - 数据库保存: ✅
2025-07-22 15:26:17,595 - INFO -    - 统计报告: ✅
2025-07-22 15:26:17,595 - INFO - 📅 下次执行时间: 明天早上9:30
2025-07-22 15:26:17,595 - INFO - ============================================================
2025-07-22 15:26:17,595 - INFO - ✅ 每日自动执行完成，无需人工干预
2025-07-22 15:29:37,394 - INFO - 🌤️  每日自动天气数据收集开始
2025-07-22 15:29:37,394 - INFO - ============================================================
2025-07-22 15:29:37,394 - INFO - ⏰ 执行时间: 2025-07-22 15:29:37
2025-07-22 15:29:37,394 - INFO - 🎯 目标: 自动收集昨天的天气数据并存入数据库
2025-07-22 15:29:37,394 - INFO - ============================================================
2025-07-22 15:29:37,394 - INFO - 🔍 检查系统状态...
2025-07-22 15:29:37,676 - INFO - ✅ MySQL连接正常
2025-07-22 15:29:37,945 - INFO - ✅ 网络连接正常
2025-07-22 15:29:37,945 - INFO - ✅ 系统状态检查完成
2025-07-22 15:29:37,945 - INFO - 
🔄 执行步骤1: 生成JWT Token...
2025-07-22 15:29:37,945 - INFO - 🔑 自动生成JWT Token...
2025-07-22 15:29:37,955 - INFO - ✅ JWT Token生成成功，有效期10小时
2025-07-22 15:29:37,955 - INFO - ✅ 步骤1完成 - JWT Token生成成功
2025-07-22 15:29:37,955 - INFO - 
🔄 执行步骤2: 获取昨天的天气数据...
2025-07-22 15:29:37,955 - INFO - 🌤️ 开始获取昨天的天气数据...
2025-07-22 15:29:37,955 - INFO - 正在获取 20250721 的天气数据...
2025-07-22 15:29:38,886 - INFO - ✅ 成功获取天气数据，共 24 条记录
2025-07-22 15:29:38,887 - INFO - ✅ 步骤2完成 - 天气数据获取成功
2025-07-22 15:29:38,887 - INFO - 
🔄 执行步骤3: 保存数据到数据库...
2025-07-22 15:29:38,887 - INFO - 💾 开始保存天气数据到数据库...
2025-07-22 15:29:38,892 - INFO - ✅ 数据库初始化完成
2025-07-22 15:29:38,894 - WARNING - ⚠️ 小时数据保存返回格式异常
2025-07-22 15:29:38,894 - INFO - ✅ 小时数据保存尝试完成
2025-07-22 15:29:38,899 - INFO - ✅ 每日汇总计算完成
2025-07-22 15:29:38,899 - INFO - ✅ 步骤3完成 - 数据保存成功
2025-07-22 15:29:38,899 - INFO - 
🔄 执行步骤4: 生成统计报告...
2025-07-22 15:29:38,899 - INFO - 📊 获取数据库统计信息...
2025-07-22 15:29:38,997 - INFO - 📈 数据库统计信息:
2025-07-22 15:29:38,997 - INFO -    小时数据: 240 条
2025-07-22 15:29:38,997 - INFO -    每日数据: 10 条
2025-07-22 15:29:38,997 - INFO -    最新小时数据: 2025-07-21 23:00:00
2025-07-22 15:29:38,997 - INFO -    最新每日数据: 2025-07-21
2025-07-22 15:29:38,997 - INFO - ✅ 步骤4完成 - 统计报告生成成功
2025-07-22 15:29:38,997 - INFO - 
============================================================
2025-07-22 15:29:38,997 - INFO - 🎉 每日自动执行完全成功！
2025-07-22 15:29:38,997 - INFO - 📊 执行结果:
2025-07-22 15:29:38,997 - INFO -    - JWT Token生成: ✅
2025-07-22 15:29:38,997 - INFO -    - 天气数据获取: ✅
2025-07-22 15:29:38,997 - INFO -    - 数据库保存: ✅
2025-07-22 15:29:38,997 - INFO -    - 统计报告: ✅
2025-07-22 15:29:38,997 - INFO - 📅 下次执行时间: 明天早上9:30
2025-07-22 15:29:38,997 - INFO - ============================================================
2025-07-22 15:29:38,997 - INFO - ✅ 每日自动执行完成，无需人工干预
